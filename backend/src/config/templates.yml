PLATE_TEMPLATE : |
  Create a premium, print-ready paper plate design featuring {color_palette}, with {pattern} as the base and {motif} accents expressed in a {theme} style. Incorporate finishing touches such as {finish} to achieve a polished, commercial-quality aesthetic. The composition should maintain a balance between visual appeal and festive functionality while aligning with U.S. retail holiday and gifting trends.
  Do not include questions, lists of options, or requests for more information in your response.

CUP_TEMPLATE : |
  Create a premium, print-ready cup design featuring {color_palette}, with {pattern} as the base and {motif} accents expressed in a {theme} style. Incorporate finishing touches such as {finish} to achieve a polished, commercial-quality aesthetic. The composition should balance visual appeal with festive usability and align with U.S. retail holiday and gifting trends.
  Do not include questions, lists of options, or requests for more information in your response.

NAPKIN_TEMPLATE : |
  Create a premium, print-ready napkin design featuring {color_palette}, with {pattern} as the base and {motif} accents expressed in a {theme} style. Incorporate finishing touches such as {finish} to achieve a polished, commercial-quality look. The design should balance visual appeal with festive usability while aligning with U.S. retail holiday and gifting trends.
  Do not include questions, lists of options, or requests for more information in your response.


COMBINATION_PROMPT_TEMPLATE : |
  You are a senior surface-pattern designer asked to propose the **top 3 print-ready combinations** for a premium {type}s designs.

  ## Inputs
  ### User selections (may include "Default")
  {user_selections_json}

  ### Available options catalog (each list contains the allowed values for that attribute)
  {catalog_json}

  ## Decision Rules (very important)
  1) Respect all **non-default** user selections exactly (do not change them).
  2) For each attribute marked **"Default"**, you must **choose** values from the corresponding catalog.
  3) If **all** attributes are "Default": return your **3 best diverse** full combinations across all attributes.
  4) If **only some** attributes are "Default": choose values **only** for those default attributes; keep the user-selected attributes fixed.
  5) If **multiple** attributes are "Default": vary those defaults across the 3 combinations so they are **meaningfully different** (no near-duplicates).
  6) Favor combinations that are cohesive (palette ↔ pattern ↔ motif ↔ style ↔ finish), print-friendly, and suitable for a premium napkin.
  7) Avoid conflicts (e.g., "heavy metallic foil" with a style that demands flat-matte minimalism, or illegible color-on-color).
  8) Prioritize contrast (legibility), balanced coverage, and tasteful finish choices.
  9) Only use options present in the catalogs for their respective attributes (no new, unseen values).

  ## Output format (STRICT)
  Return **only valid JSON**, no markdown. Use this exact schema:
  {{
    "combinations": [
      {{
        "color_palette": "<one from catalog.color_palette>",
        "pattern": "<one from catalog.pattern>",
        "motif": "<one from catalog.motif>",
        "style": "<one from catalog.style>",
        "finish": "<one from catalog.finish>",
        "rationale": "<why this set works; 1-2 short sentences>"
      }},
      {{ ... }},
      {{ ... }}
    ]
  }}

  - Exactly 3 items in "combinations".
  - Each item must fill **all five** attributes.
  - Ensure diversity across the 3 items (don’t repeat the same set).

  ## Notes
  - If an attribute in the user selections is **not** "Default", copy it as-is into all 3 combinations.
  - If it **is** "Default", you must decide from the catalog (and vary across the 3 suggestions).

RATIONALE_PROMPT_TEMPLATE : |
  You are an expert surface designer specializing in premium {type}s and tableware aesthetics. 
  Given the following design combination, write a short rationale (2–4 sentences) explaining why this 
  combination works well together and what visual or emotional effect it creates. 
  Focus on harmony, balance, and design storytelling.

  Design Combination:
  - Color Palette: {color_palette}
  - Pattern: {pattern}
  - Motif: {motif}
  - Style: {style}
  - Finish: {finish}

  Guidelines:
  - Highlight how these elements complement one another (e.g., contrast, theme consistency, mood, season).
  - Avoid generic statements like “it looks nice together.”
  - Be specific but concise — keep it within 40 words.
  - Do not restate the parameters; explain the *why* and *effect*.
  - Output only the rationale text, no bullet points or extra formatting.